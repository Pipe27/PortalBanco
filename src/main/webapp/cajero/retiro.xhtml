<html xmlns="http://www.w3.org/1999/xhtml"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:f="http://java.sun.com/jsf/core"
    xmlns:p="http://primefaces.org/ui">
 
     <h:head>
     	<title>Retiros</title>
     </h:head>
 
     <h:body>
 		<h:form id="formulario">
 		<p:growl/>
 		<br></br>
 		<div align="right">
			<p:clock /> 		
 		</div>
 		<br></br>
 		<div align="center">
	 			<p:panel header="Gestion Retiro">
	 				<h:panelGrid columns="2" border="1">
	 					<p:outputLabel value="Cuenta:"/>
	 					<p:inputText id="txtCuenta" binding="#{retirarVista.txtCuenta}">
	 						<p:ajax listener="#{retirarVista.txtCuentaListener}" update="formulario" />
	 					</p:inputText>
	 					
	 					<p:outputLabel value="Nombre:"/>
	 					<p:inputText id="txtNombre" binding="#{retirarVista.txtNombre}" readonly="true" />
	 					
	 					<p:outputLabel value="Valor:"/>
	 					<p:inputNumber id="txtValor" binding="#{retirarVista.txtValor}" required="true"/>
	 				</h:panelGrid>
	 				
	 				<h:panelGrid columns="4">
	 					<p:commandButton id="btnRetirar" value="Retirar" binding="#{retirarVista.btnRetirar}" action="#{retirarVista.retirarAction}" update="formulario"/>
	 					<p:commandButton id="btnLimpiar" value="Limpiar" binding="#{retirarVista.btnLimpiar}" action="#{retirarVista.limpiarAction}" update="formulario"/>
	 				</h:panelGrid>
	 			</p:panel>
	 			<p:panel header="Saldo Actual">
		 			<h:panelGrid>
		 					<p:outputLabel value="Saldo Disponible:"/>
		 					<p:inputNumber id="txtNuevoSaldo" binding="#{retirarVista.txtNuevoSaldo}" readonly="true"/>
		 			</h:panelGrid>
	 			</p:panel>
 			</div>
 			<div align="center">
	 			<p:panel header="Listado de Movimientos por Usuario">
			        <p:dataTable id="dataMovimientos" value="#{retirarVista.losMovimientos}" var="transaccion" paginator="true" rows="17">
				        <p:column headerText="Identificacion Transacción">
				        	<p:outputLabel value="#{transaccion.tranId}"/>
				        </p:column>
				        
				        <p:column headerText="Cuenta">
				        	<p:outputLabel value="#{transaccion.cuenta.cuenId}"/>
				        </p:column>
				        
				        <p:column headerText="Usuario">
				        	<p:outputLabel value="#{transaccion.usuario.usuUsuario}"/>
				        </p:column>
				        
				        <p:column headerText="Valor">
				        	<p:outputLabel value="#{transaccion.valor}"/>
				        </p:column>
				        
				        <p:column headerText="Fecha">
				        	<p:outputLabel value="#{transaccion.fecha}"/>
				        </p:column>
				        
				        <p:column headerText="Tipo Transacción">
				        	<p:outputLabel value="#{transaccion.tipoTransaccion.titrId}"/>
				        </p:column>		        
			        </p:dataTable>
				</p:panel>
			</div>
			<p:stack icon="../images/stack.png" expanded="false">
				<p:menuitem value="Volver" icon="../images/back.png" url="../xhtml/principalUsuarioCajero.xhtml"/>
			    <p:menuitem value="Consignar" icon="../images/consignar.png" url="../cajero/consignar.xhtml"/>
			    <p:menuitem value="Editar Contraseña" icon="../images/editPass.png" url="../cajero/editarContra.xhtml"/>
			</p:stack>			
 		</h:form>
     </h:body>
</html>
